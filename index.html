<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prototipo Login Estilizado</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="src/styles.css" />
  </head>
  <body
    class="bg-login d-flex justify-content-center align-items-center vh-100"
  >
        <!-- FORMULARIO DE LOGIN -->
    <div id="login-container" class="login-card p-4">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="m-0">Bienvenido</h3>
        <button type="button" class="btn-close" aria-label="Close"></button>
      </div>
      <!-- Campos para usuario y contraseña -->
      <form id="login-form">
        <div class="mb-3">
          <input
            type="text"
            class="form-control rounded-pill input-custom"
            id="username"
            placeholder="Usuario"
            required
          />
        </div>
        <div class="mb-3">
          <input
            type="password"
            class="form-control rounded-pill input-custom"
            id="password"
            placeholder="Contraseña"
            required
          />
        </div>
        <!-- Boton para entrar -->
        <button
          type="submit"
          class="btn btn-success rounded-pill w-100 btn-custom"
        >
          Ingresar
        </button>
      </form>
      <hr class="my-4" />
      <div class="text-center">
        <button
          class="btn btn-light rounded-pill w-100 d-flex align-items-center justify-content-center"
        >
          <img
            src="https://img.icons8.com/color/16/000000/google-logo.png"
            class="me-2"
            alt="Google Icon"
          />
          Continuar con Google
        </button>
      </div>
    </div>

    <div id="dashboard" class="d-none vh-100 w-100 d-flex">
      <!-- SIDEBAR IZQUIERDA -->
      <nav class="sidebar d-flex flex-column py-4">
        <!-- Inicio -->
        <a href="#" class="sidebar-item d-flex align-items-center px-3 py-2">
          <img
            src="https://img.icons8.com/ios-filled/24/ffffff/home.png"
            alt="Home"
            class="me-2"
          />
          <span>Inicio</span>
        </a>
        <hr class="divider" />

        <!-- Submenu para Arbol y Suelo -->
        <div class="submenu">
          <a
            href="#"
            class="sidebar-item d-flex align-items-center justify-content-between px-3 py-2"
          >
            <div class="d-flex align-items-center">
              <img
                src="https://img.icons8.com/ios-filled/24/ffffff/plus-math.png"
                alt="Registrar"
                class="me-2"
              />
              <span>Registrar</span>
            </div>
            <span>&#9662;</span>
          </a>
          <!-- Subitems -->
          <div class="submenu-items">
            <a
              href="#"
              class="sidebar-item d-flex align-items-center px-4 py-2"
              id="show-register-arbol"
            >
              <span>Registrar Árbol</span>
              <span class="ms-auto">&#9656;</span>
            </a>
            <a
              href="#"
              class="sidebar-item d-flex align-items-center px-4 py-2"
              id="show-register-suelo"
            >
              <span>Registrar Suelo</span>
              <span class="ms-auto">&#9656;</span>
            </a>
          </div>
        </div>
        <hr class="divider" />

        <!-- Generar Informe -->
        <a href="#" class="sidebar-item d-flex align-items-center px-3 py-2">
          <img
            src="https://img.icons8.com/ios-filled/24/ffffff/document.png"
            alt="Generar Informe"
            class="me-2"
          />
          <span>Generar Informe</span>
        </a>
        <hr class="divider" />

        <!-- Gestionar -->
        <div class="submenu">
          <a
            href="#"
            class="sidebar-item d-flex align-items-center justify-content-between px-3 py-2"
          >
            <div class="d-flex align-items-center">
              <img
                src="https://img.icons8.com/ios-filled/24/ffffff/settings.png"
                alt="Gestionar"
                class="me-2"
              />
              <span>Gestionar</span>
            </div>
            <span>&#9662;</span>
          </a>
          <!-- Subitems -->
          <div class="submenu-items">
            <a
              href="#"
              class="sidebar-item d-flex align-items-center px-4 py-2"
              id="show-gestionar-arbol"
            >
              <span>Gestionar Árbol</span>
              <span class="ms-auto">&#9656;</span>
            </a>
            <a
              href="#"
              class="sidebar-item d-flex align-items-center px-4 py-2"
            >
              <span>Gestionar Suelo</span>
              <span class="ms-auto">&#9656;</span>
            </a>
          </div>
        </div>
        <hr class="divider" />

        <!-- Cerrar Sesión -->
        <a
          href="#"
          id="logout-btn"
          class="sidebar-item d-flex align-items-center px-3 py-2"
        >
          <img
            src="https://img.icons8.com/ios-filled/24/ffffff/exit.png"
            alt="Cerrar Sesión"
            class="me-2"
          />
          <span>Cerrar Sesión</span>
        </a>
      </nav>

      <!-- AREA PRINCIPAL (El contenido dinámico se carga aca) -->
      <div
        class="content flex-fill d-flex justify-content-center align-items-center position-relative"
      >
      <!-- AQUI ES DONDE SE CARGAN LAS SECCIONES SEGUN CLICKEES -->
        <!-- Por ej: buscador, formulario arbol, suelo, etc -->
        <div
          id="welcome-box"
          class="dashboard-box p-4 w-100"
          style="max-width: 900px"
        >
          <div class="d-flex flex-column gap-3">
            <!-- Barra de búsqueda -->
            <div class="input-group rounded-pill shadow-sm">
              <input
                type="text"
                class="form-control rounded-start-pill border-0"
                placeholder="Buscar árbol por nombre común..."
              />
              <button
                class="btn btn-outline-secondary rounded-end-pill"
                type="button"
              >
                🔍
              </button>
              <button
                class="btn btn-outline-secondary ms-2 rounded-pill"
                type="button"
              >
              </button>
            </div>

            <!-- Filtros de orden -->
            <div class="d-flex flex-wrap gap-2 justify-content-center">
              <select class="form-select rounded-pill" style="max-width: 200px">
                <option>Ordenar Alfabéticamente</option>
                <option value="asc">A - Z</option>
                <option value="desc">Z - A</option>
              </select>

              <select class="form-select rounded-pill" style="max-width: 200px">
                <option>Ordenar por Fecha de Registro</option>
                <option value="newest">Más Recientes</option>
                <option value="oldest">Más Antiguos</option>
              </select>

              <select class="form-select rounded-pill" style="max-width: 200px">
                <option>Ordenar por Tipo de Uso</option>
                <option value="medicinal">Medicinal</option>
                <option value="industrial">Industrial</option>
                <option value="maderable">Maderable</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Formulario de Registrar Árbol -->
        <div
          id="register-arbol-form"
          class="dashboard-box p-4 d-none"
          style="max-width: 500px; width: 100%"
        >
          <h4 class="text-center mb-4">Registro de Árboles</h4>
          <form>
            <div class="mb-3">
              <label class="form-label">Nombre común</label>
              <input
                type="text"
                class="form-control rounded-pill input-custom"
                placeholder="Ingrese nombre común"
                required
              />
            </div>

            <div class="mb-3">
              <label class="form-label">Tipo de Uso</label>
              <select class="form-select rounded-pill input-custom" required>
                <option selected disabled>Seleccionar</option>
                <option value="medicinal">Medicinal</option>
                <option value="industrial">Industrial</option>
                <option value="maderable">Maderable</option>
              </select>
            </div>

            <div class="mb-3">
              <label class="form-label">Fecha</label>
              <input
                type="date"
                class="form-control rounded-pill input-custom"
                required
              />
            </div>

            <div class="mb-3 text-center">
              <label class="form-label d-block">Imagen</label>
              <div
                id="image-preview"
                class="border rounded mb-2 d-flex justify-content-center align-items-center"
                style="
                  width: 150px;
                  height: 150px;
                  margin: 0 auto;
                  background-color: rgba(255, 255, 255, 0.6);
                  overflow: hidden;
                "
              >
                <img
                  src="https://img.icons8.com/ios-filled/100/7da024/add-image.png"
                  alt="Previsualización"
                  id="preview-img"
                  style="max-width: 100%; max-height: 100%; object-fit: contain"
                />
              </div>
              <input
                type="file"
                id="image-input"
                class="form-control rounded-pill mb-2"
              />
            </div>

            <div class="d-grid">
              <button
                type="submit"
                class="btn btn-success rounded-pill btn-custom"
              >
                Registrar Árbol
              </button>
            </div>
          </form>
        </div>

        <!-- Formulario de Registrar Suelo -->
        <div
          id="register-suelo-form"
          class="dashboard-box p-4 d-none"
          style="max-width: 500px; width: 100%; margin: 0 auto"
        >
          <h4 class="text-center mb-4">Registro de Suelos</h4>
          <form>
            <div class="mb-3">
              <label class="form-label d-block">Clima</label>
              <div class="form-check form-check-inline">
                <input
                  class="form-check-input"
                  type="radio"
                  name="clima"
                  id="climaHumedo"
                  value="Húmedo"
                  required
                />
                <label class="form-check-label" for="climaHumedo">Húmedo</label>
              </div>
              <div class="form-check form-check-inline">
                <input
                  class="form-check-input"
                  type="radio"
                  name="clima"
                  id="climaSeco"
                  value="Seco"
                />
                <label class="form-check-label" for="climaSeco">Seco</label>
              </div>
              <!-- Agrega más opciones si las necesitas -->
            </div>

            <div class="mb-3">
              <label class="form-label">Condición del Suelo</label>
              <input
                type="text"
                class="form-control rounded-pill input-custom"
                placeholder="Describa la condición"
                required
              />
            </div>

            <div class="mb-3">
              <label class="form-label">Tipo de Zona</label>
              <select class="form-select rounded-pill input-custom" required>
                <option selected disabled>Seleccionar</option>
                <option value="bosque">Boscosa</option>
                <option value="abierta">Área Abierta</option>
                <option value="vegetacion">
                  Vegetación arbustiva e herbácea
                </option>
              </select>
            </div>

            <div class="d-grid">
              <button
                type="submit"
                class="btn btn-success rounded-pill btn-custom"
              >
                Registrar Suelo
              </button>
            </div>
          </form>
        </div>

        <!-- Gestión de Árboles -->
        <div
          id="gestionar-arbol-box"
          class="dashboard-box p-4 d-none"
          style="max-width: 500px; width: 100%"
        >
          <h4 class="text-center mb-4">Gestión de Árboles</h4>

          <div class="card p-3 text-center">
            <div class="d-flex justify-content-center mb-3">
              <img
                src="/public/manglarjurubira.jpg"
                alt="Árbol"
                style="width: 150px; height: auto"
              />
            </div>
            <h5>{Nombre_comun}</h5>
            <p class="text-muted">{Tipo_uso}</p>

            <div class="d-flex justify-content-around mt-3">
              <button class="btn btn-warning btn-sm d-flex align-items-center">
                ✏️ Editar
              </button>
              <button class="btn btn-danger btn-sm d-flex align-items-center">
                🗑️ Eliminar
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Gestión de Suelos -->
    <div
      id="gestionar-suelo-box"
      class="dashboard-box p-4 d-none"
      style="max-width: 700px; width: 100%"
    >
      <h4 class="text-center mb-4">Gestión de Suelos</h4>

      <div class="table-responsive">
        <table class="table table-hover text-center">
          <thead>
            <tr>
              <th>Clima</th>
              <th>Condición</th>
              <th>Tipo de Zona</th>
              <th>Conglomerado</th>
              <th>Nro de Parcela</th>
            </tr>
          </thead>
          <tbody id="suelo-table-body">
            <!-- Ejemplo estático -->
            <tr>
              <td>Húmedo</td>
              <td>Bien drenado</td>
              <td>Boscosa</td>
              <td>1</td>
              <td>1</td>
            </tr>
            <tr>
              <td>Seco</td>
              <td>Arenoso</td>
              <td>Área Abierta</td>
              <td>1</td>
              <td>2</td>
            </tr>
          </tbody>
        </table>
        <div class="d-flex justify-content-around mt-3">
          <button class="btn btn-warning btn-sm d-flex align-items-center">
            ✏️ Editar
          </button>
          <button class="btn btn-danger btn-sm d-flex align-items-center">
            🗑️ Eliminar
          </button>
        </div>
      </div>
    </div>

    <script>
      const loginForm = document.getElementById("login-form");
      const loginContainer = document.getElementById("login-container");
      const dashboard = document.getElementById("dashboard");
      const logoutBtn = document.getElementById("logout-btn");
       // Login: verifica usuario y pasa al dashboard
      loginForm.addEventListener("submit", function (e) {
        e.preventDefault();
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;

        if (username && password) {
          loginContainer.classList.add("d-none");
          dashboard.classList.remove("d-none");
        } else {
          alert("Por favor completa todos los campos.");
        }
      });

      // Logout: vuelve al login
      if (logoutBtn) {
        logoutBtn.addEventListener("click", function () {
          dashboard.classList.add("d-none");
          loginContainer.classList.remove("d-none");
          loginForm.reset();
        });
      }

      // 3️ ABRIR/CERRAR SUBMENÚS
      document.querySelectorAll(".submenu > a").forEach((menu) => {
        menu.addEventListener("click", function (e) {
          e.preventDefault();
          const submenu = this.parentElement;
          submenu.classList.toggle("active");
        });
      });

      // 4️ MOSTRAR FORMULARIO AL HACER CLIC EN "Registrar Árbol" o "Registrar Suelo"
      document.querySelectorAll(".sidebar-item").forEach((item) => {
        item.addEventListener("click", function (e) {
          const text = this.textContent.trim();
          if (text.includes("Registrar Árbol")) {
            e.preventDefault();
            document
              .getElementById("register-arbol-form")
              .classList.remove("d-none");
            document
              .getElementById("register-suelo-form")
              .classList.add("d-none");
            document.getElementById("welcome-box").classList.add("d-none");
          } else if (text.includes("Registrar Suelo")) {
            e.preventDefault();
            document
              .getElementById("register-suelo-form")
              .classList.remove("d-none");
            document
              .getElementById("register-arbol-form")
              .classList.add("d-none");
            document.getElementById("welcome-box").classList.add("d-none");
          }
        });
      });

      // 5️ FORMULARIO ÁRBOL: Mostrar mensaje de éxito bonito
      const formArbol = document.querySelector("#register-arbol-form form");
      formArbol.addEventListener("submit", function (e) {
        e.preventDefault();

        const successMsg = document.getElementById("success-message");
        successMsg.textContent = "¡Árbol registrado exitosamente!";
        successMsg.classList.remove("d-none");

        setTimeout(() => {
          successMsg.classList.add("d-none");
          document
            .getElementById("register-arbol-form")
            .classList.add("d-none");
          document.getElementById("welcome-box").classList.remove("d-none");
          formArbol.reset();
        }, 3000);
      });

      // 6️ FORMULARIO SUELO: Mostrar mensaje de éxito bonito
      const formSuelo = document.querySelector("#register-suelo-form form");
      formSuelo.addEventListener("submit", function (e) {
        e.preventDefault();

        const successMsg = document.getElementById("success-message");
        successMsg.textContent = "¡Suelo registrado exitosamente!";
        successMsg.classList.remove("d-none");

        setTimeout(() => {
          successMsg.classList.add("d-none");
          document
            .getElementById("register-suelo-form")
            .classList.add("d-none");
          document.getElementById("welcome-box").classList.remove("d-none");
          formSuelo.reset();
        }, 3000);
      });

      // 7️ VISTA PREVIA DE IMAGEN EN ÁRBOL
      const imageInput = document.getElementById("image-input");
      const previewImg = document.getElementById("preview-img");

      imageInput.addEventListener("change", function () {
        const file = this.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            previewImg.src = e.target.result;
          };
          reader.readAsDataURL(file);
        }
      });
      // Mostrar Gestión de Árbol al hacer clic en "Gestionar Árbol"
      document.querySelectorAll(".sidebar-item").forEach((item) => {
        item.addEventListener("click", function (e) {
          const text = this.textContent.trim();

          // Ocultar todo primero (esto es CLAVE)
          document
            .getElementById("register-arbol-form")
            .classList.add("d-none");
          document
            .getElementById("register-suelo-form")
            .classList.add("d-none");
          document
            .getElementById("gestionar-arbol-box")
            .classList.add("d-none");
          document
            .getElementById("gestionar-suelo-box")
            ?.classList.add("d-none"); // Por si tienes también el de suelos

          // Mostrar solo lo que corresponde
          if (text.includes("Registrar Árbol")) {
            e.preventDefault();
            document
              .getElementById("register-arbol-form")
              .classList.remove("d-none");
            document.getElementById("welcome-box").classList.add("d-none");
          } else if (text.includes("Registrar Suelo")) {
            e.preventDefault();
            document
              .getElementById("register-suelo-form")
              .classList.remove("d-none");
            document.getElementById("welcome-box").classList.add("d-none");
          } else if (text.includes("Gestionar Árbol")) {
            e.preventDefault();
            document
              .getElementById("gestionar-arbol-box")
              .classList.remove("d-none");
            document.getElementById("welcome-box").classList.add("d-none");
          } else if (text.includes("Gestionar Suelo")) {
            e.preventDefault();
            document
              .getElementById("gestionar-suelo-box")
              ?.classList.remove("d-none");
            document.getElementById("welcome-box").classList.add("d-none");
          }
        });
      });
    </script>
  </body>
</html>
